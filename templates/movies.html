<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title>User Movies - MovieWeb App</title>
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="text-center">User's Favorite Movies</h1>

      <ul class="list-group">
        {% for movie in movies %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          {{ movie.name }} ({{ movie.year }}) - {{ movie.rating }}/10
          <span>
            <a
              class="btn btn-warning btn-sm"
              href="{{ url_for('update_movie', user_id=user_id, movie_id=movie.id, form= form) }}"
              >Edit</a
            >
            <form
              action="{{ url_for('delete_movie', user_id=user_id, movie_id=movie.id) }}"
              method="POST"
              style="display: inline"
            >
              {{ form.hidden_tag() }}
              <button type="submit" class="btn btn-danger btn-sm">
                Delete
              </button>
            </form>
          </span>
        </li>
        {% endfor %}
      </ul>

      <a
        class="btn btn-primary mt-3"
        href="{{ url_for('add_movie', user_id=user_id) }}"
        >Add a new movie</a
      >
    </div>
  </body>
</html>
